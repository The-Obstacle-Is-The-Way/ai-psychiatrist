# Specs

Implementation-ready (or implementation-planned) specifications for changes that require code modifications.

## Active / Ready

- **Spec 31**: Paper-parity few-shot reference formatting (`ReferenceBundle.format_for_prompt`)
- **Spec 32**: Few-shot retrieval diagnostics (structured audit logs)

## Planned / Experimental (separate from paper-parity)

- **Spec 33**: Retrieval quality guardrails (similarity threshold + context budgeting)
- **Spec 34**: Item-tagged reference embeddings (index-time tagging + retrieval-time filtering)
- **Spec 35**: Offline chunk-level PHQ-8 scoring (new method; circularity controls required)
- **Spec 36**: CRAG-style runtime reference validation (new method; cost + variance controls required)
